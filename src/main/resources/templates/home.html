<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:replace="fragments/header::header-css">
    <title>Triangle Platform</title>
</head>
<body class="hold-transition skin-blue sidebar-mini">
<div th:replace="fragments/header::header-body"/>

<div class="content-wrapper">
    <section th:replace="fragments/sitemap"/>

    <section class="content-header">
        <h1>
            您好，<span sec:authorize="isAuthenticated()" class="hidden-xs">
                            <span sec:authentication="name">11111</span>
                        </span>，您的数据权限为：XXXX分公司（XXXX总公司、XXXX代理商）
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i>首页</a></li>
        </ol>
    </section>

    <section class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-3 col-sm-6 col-xs-12">
                    <div class="info-box">
                        <span class="info-box-icon bg-green"><i class="fa fa-check" aria-hidden="true"></i></span>

                        <div class="info-box-content">
                            <span class="info-box-text">正常设备</span>
                            <span class="info-box-number" style="font-size: 30px;">300台</span>
                        </div>
                        <!-- /.info-box-content -->
                    </div>
                    <!-- /.info-box -->
                </div>
                <!-- /.col -->
                <div class="col-md-3 col-sm-6 col-xs-12">
                    <div class="info-box">

                        <span class="info-box-icon bg-yellow">
                            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i>
                        </span>
                        <div class="info-box-content">
                            <span class="info-box-text">故障设备</span>
                            <span class="info-box-number">
                                <p style="font-size: 30px;">
                                    <a href="#" target="_blank">2台</a>
                                </p>
                            </span>

                            <div style="position: absolute; left:360px; top:3px;">
                                <p style="font-size: 24px; color: lightgray;">
                                    <i class="fa fa-refresh test" aria-hidden="true"></i>
                                </p>
                            </div>
                        </div>
                        <!-- /.info-box-content -->
                    </div>
                    <!-- /.info-box -->
                </div>
                <!-- /.col -->

                <!-- fix for small devices only -->
                <div class="clearfix visible-sm-block"></div>

                <div class="col-md-3 col-sm-6 col-xs-12">
                    <div class="info-box">
                        <span class="info-box-icon bg-green"><i class="fa fa-jpy" aria-hidden="true"></i></span>
                        <div class="info-box-content">
                            <span class="info-box-text">昨日收入</span>
                            <span class="info-box-number">
                                <p style="font-size: 30px;">
                                <a href="#" target="_blank">760元</a>
                                </p>
                            </span>
                        </div>
                        <!-- /.info-box-content -->
                    </div>
                    <!-- /.info-box -->
                </div>
                <!-- /.col -->
                <div class="col-md-3 col-sm-6 col-xs-12">
                    <div class="info-box">

                        <span class="info-box-icon bg-navy"><i class="ion ion-ios-people-outline"></i></span>

                        <div class="info-box-content">
                            <span class="info-box-text">昨日订单</span>
                            <span class="info-box-number">
                                <p style="font-size: 30px;">
                                <a href="#" target="_blank" id="orderCount">2000</a>单
                                </p>
                            </span>
                        </div>
                        <!-- /.info-box-content -->

                    </div>
                    <!-- /.info-box -->
                </div>
                <!-- /.col -->
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">ssssss</h3>

                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i
                                        class="fa fa-minus"></i>
                                </button>
                            </div>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="row">
                                <div class="col-md-12">
                                    ddddd
                                    <!-- /.chart-responsive -->
                                </div>
                            </div>
                            <!-- /.row -->
                        </div>
                    </div>
                    <!-- /.box -->
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">昨日设备运行情况统计图</h3>

                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i
                                        class="fa fa-minus"></i>
                                </button>
                            </div>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <div id="yesterdayDeviceStatus" style="width: 100%;height:400px;"></div>
                                    <!-- /.chart-responsive -->
                                </div>
                            </div>
                            <!-- /.row -->
                        </div>
                        <!-- ./box-body -->
                    </div>
                    <!-- /.box -->
                </div>
                <div class="col-md-6">
                    <div class="box">
                        <div class="box-header with-border">
                            <h3 class="box-title">近6个月运营概况</h3>

                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i
                                        class="fa fa-minus"></i>
                                </button>
                            </div>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <div id="recently3Month" style="width: 100%;height:400px;"></div>
                                </div>
                            </div>
                            <!-- /.row -->
                        </div>
                        <!-- ./box-body -->
                    </div>
                    <!-- /.box -->
                </div>
            </div>
        </div>
    </section>
</div>
<!-- /.container -->
<style type="text/css">
    .test:hover{
        cursor: pointer;
        -webkit-transform:rotate(360deg);
        transform:rotate(360deg);
        -webkit-transition:-webkit-transform 1s linear;
        transition:transform 1s linear;
    }
</style>
<script type="text/javascript">
    //柱状图
    var myChart1 = echarts.init(document.getElementById('recently3Month'));
    option1 = {
        title: {
            text: ''
        },
        tooltip: {
            trigger: 'axis'
        },
        legend: {
            data: ['收入', '利润']
        },
        toolbox: {
            show: false,
            feature: {
                mark: {show: true},
                dataView: {show: false},
                restore: {show: false},
                saveAsImage: {show: false}
            }
        },
        calculable: true,
        xAxis: [
            {
                type: 'category',
                data: ['1月', '2月', '3月', '4月', '5月', '6月']
            }
        ],
        yAxis: [
            {
                type: 'value'
            }
        ],
        series: [
            {
                name: '收入',
                type: 'bar',
                data: [3.66, 4.88, 2.65, 7.76, 2.01, 4.29],
                markLine: {
                    data: [
                        {type: 'average', name: '平均值'}
                    ]
                }
            },
            {
                name: '利润',
                type: 'bar',
                data: [1.33, 2.66, 0.34, 2.6, 0.9, 1.11],
                markLine: {
                    data: [
                        {type: 'average', name: '平均值'}
                    ]
                }
            }
        ]
    };

    myChart1.setOption(option1);

    //饼图
    var myChart2 = echarts.init(document.getElementById('yesterdayDeviceStatus'));
    var idx = 1;
    option2 = {
        timeline: {
            data: [
                '7:00', '8:00', '9:00', '10:00', '11:00',
                '12:00',
                '13:00', '14:00', '15:00', '16:00', '17:00',
                '18:00'
            ],
            autoPlay: 'true',
            axisType: 'category'
        },
        options: [
            {
                tooltip: {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c} ({d}%)"
                },
                legend: {
                    data: ['按摩', '充电', '闲置', '故障']
                },
                series: [
                    {
                        name: '日统计图',
                        type: 'pie',
                        center: ['50%', '45%'],
                        radius: '50%',
                        data: [
                            {value: idx * 128 + 80, name: '按摩'},
                            {value: idx * 64 + 160, name: '充电'},
                            {value: idx * 32 + 320, name: '闲置'},
                            {value: idx++ * 16 + 640, name: '故障'}
                        ]
                    }
                ]
            },
            {
                series: [
                    {
                        name: '日统计图',
                        type: 'pie',
                        data: [
                            {value: idx * 128 + 80, name: '按摩'},
                            {value: idx * 64 + 160, name: '充电'},
                            {value: idx * 32 + 400, name: '闲置'},
                            {value: idx++ * 16 + 640, name: '故障'}
                        ]
                    }
                ]
            },
            {
                series: [
                    {
                        name: '日统计图',
                        type: 'pie',
                        data: [
                            {value: idx * 128 + 500, name: '按摩'},
                            {value: idx * 64 + 400, name: '充电'},
                            {value: idx * 32 + 320, name: '闲置'},
                            {value: idx++ * 16 + 640, name: '故障'}
                        ]
                    }
                ]
            },
            {
                series: [
                    {
                        name: '日统计图',
                        type: 'pie',
                        data: [
                            {value: idx * 128 + 400, name: '按摩'},
                            {value: idx * 64 + 160, name: '充电'},
                            {value: idx * 32 + 320, name: '闲置'},
                            {value: idx++ * 16 + 640, name: '故障'}
                        ]
                    }
                ]
            },
            {
                series: [
                    {
                        name: '日统计图',
                        type: 'pie',
                        data: [
                            {value: idx * 128 + 1000, name: '按摩'},
                            {value: idx * 64 + 160, name: '充电'},
                            {value: idx * 32 + 320, name: '闲置'},
                            {value: idx++ * 16 + 640, name: '故障'}
                        ]
                    }
                ]
            },
            {
                series: [
                    {
                        name: '日统计图',
                        type: 'pie',
                        data: [
                            {value: idx * 128 + 300, name: '按摩'},
                            {value: idx * 64 + 160, name: '充电'},
                            {value: idx * 32 + 320, name: '闲置'},
                            {value: idx++ * 16 + 640, name: '故障'}
                        ]
                    }
                ]
            },
            {
                series: [
                    {
                        name: '日统计图',
                        type: 'pie',
                        data: [
                            {value: idx * 128 + 10, name: '按摩'},
                            {value: idx * 64 + 160, name: '充电'},
                            {value: idx * 32 + 320, name: '闲置'},
                            {value: idx++ * 16 + 640, name: '故障'}
                        ]
                    }
                ]
            },
            {
                series: [
                    {
                        name: '日统计图',
                        type: 'pie',
                        data: [
                            {value: idx * 128 + 800, name: '按摩'},
                            {value: idx * 64 + 160, name: '充电'},
                            {value: idx * 32 + 320, name: '闲置'},
                            {value: idx++ * 16 + 640, name: '故障'}
                        ]
                    }
                ]
            },
            {
                series: [
                    {
                        name: '日统计图',
                        type: 'pie',
                        data: [
                            {value: idx * 128 + 400, name: '按摩'},
                            {value: idx * 64 + 160, name: '充电'},
                            {value: idx * 32 + 320, name: '闲置'},
                            {value: idx++ * 16 + 640, name: '故障'}
                        ]
                    }
                ]
            },
            {
                series: [
                    {
                        name: '日统计图',
                        type: 'pie',
                        data: [
                            {value: idx * 128 + 600, name: '按摩'},
                            {value: idx * 64 + 160, name: '充电'},
                            {value: idx * 32 + 320, name: '闲置'},
                            {value: idx++ * 16 + 640, name: '故障'}
                        ]
                    }
                ]
            },
            {
                series: [
                    {
                        name: '日统计图',
                        type: 'pie',
                        data: [
                            {value: idx * 128 + 900, name: '按摩'},
                            {value: idx * 64 + 160, name: '充电'},
                            {value: idx * 32 + 320, name: '闲置'},
                            {value: idx++ * 16 + 640, name: '故障'}
                        ]
                    }
                ]
            },
            {
                series: [
                    {
                        name: '日统计图',
                        type: 'pie',
                        data: [
                            {value: idx * 128 + 350, name: '按摩'},
                            {value: idx * 64 + 160, name: '充电'},
                            {value: idx * 32 + 320, name: '闲置'},
                            {value: idx++ * 16 + 640, name: '故障'}
                        ]
                    }
                ]
            }
        ]
    };


    myChart2.setOption(option2);


    $(document).ready(function(){
        //获取昨日的订单数
        $.get("./getYesterdayOrderCount", function(result){
            $("#orderCount").text(result);
        });
    });
</script>

<footer th:replace="fragments/footer::footer"/>

<aside th:replace="fragments/menu"/>
</body>
</html>